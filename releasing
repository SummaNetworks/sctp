##
# Maven release will create tag with release version and push it to repository (see troubleshooting)
# Will change local version to develop and will commit develop version too.

#This way maven will asks for versions names:
>mvn release:prepare -Darguments="-Dmaven.test.skip=true"

#With inline configuration:
mvn -Dtag=TAG-VERSION release:prepare -DreleaseVersion=RELEASE-VERSION -DdevelopmentVersion=NEXT-SNAPSHOT-VERSION -Darguments="-Dmaven.test.skip=true"
#Ex:
>mvn -Dtag=2.0.16-SUMMA-1.0.0 release:prepare -DreleaseVersion=2.0.16-SUMMA-1.0.0 -DdevelopmentVersion=2.0.16-SUMMA-1.0.1-SNAPSHOT -Darguments="-Dmaven.test.skip=true"


#Will download TAG to compile and generate artifact. Then will upload artifacts to repositories:
>mvn release:perform -Darguments="-Dgpg.skip -Dmaven.test.skip=true"


## If fail and is needed to repeat:
#Delete tag just created:
>git tag -d TagName
# En remoto si se ha hecho el push
>git push summa :TagName

#Rollback changes (not needed if pom has to not change)
mvn release:rollback

#Troubleshooting:
#Tags is created before remove SNAPSHOT, execute next in client:
git config --add status.displayCommentPrefix true


## Se supone que deberia poder leer las credenciales del setting.xml en .m2 pero no conecta bien, un error del TLS.
# Ademas hay que incluir la propiedad project.scm.id con el valor del id usado en el xml.
<settings>
   <servers>
      <server>
         <id>git-server</id>
         <username>myUser</username>
         <password>myPassword</password>
      </server>
   </servers>
</settings>




